<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Indie+Flower">
    <style>
        body {
            background-image: linear-gradient(to top, #f6eeab, #b4d2af);
            display: flex;
            align-items: flex-end;
            justify-content: center;
            height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            overflow: hidden;
            font-family: "Indie Flower", sans-serif;
            position: relative;
        }

        #background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('emoji-background.png') no-repeat center center fixed;
            background-size: cover;
            opacity: 0.5; /* Adjust the opacity as needed */
            z-index: -1;
        }

        #vent {
            position: absolute;
            top: 20px;
            left: 25%;
            width: 50%;
            z-index: 0;
        }

        #textbox {
            width: 70%;
            padding: 10px;
            border: none;
            border-radius: 30px;
            box-shadow: 0px 0px 15px rgba(0,0,0,0.2);
            outline: none;
            font-size: 15px;
            box-sizing: border-box;
            background: linear-gradient(to right, white, white);
            color: #333;
            font-family: "Indie Flower", sans-serif;
            font-size: 2vw;
        }
        .message {
            position: absolute;
            bottom: 10%;
            left: 10%;
            opacity: 1;
            transition: all 5s;
            font-family: "Indie Flower", sans-serif;
            font-size: 1.5vw;
            z-index: 1;
            white-space: normal;
            max-width: 500px;
        }
        @keyframes floatAndFade {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            50% { transform: translateY(-50vh) rotate(15deg); opacity: 0.5; }
            100% { transform: translateY(-60vh) rotate(-10deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <!-- Add a div for the background image -->
    <div id="background-image"></div>

    <img id="vent" src="vent.png" alt="The vent where all your frustrations go">
    <textarea id="textbox" placeholder="Press enter to make it disappear... and float off... " rows="3" cols="40"></textarea>

    <script>
        const textbox = document.getElementById('textbox');
    let wordArray = [];

    textbox.addEventListener('keyup', function (e) {
        // Check if Enter key (key code 13) was pressed
        if (e.keyCode === 13) {
            const fullText = this.value;
            if (fullText.trim() !== '') {
                const message = document.createElement('p');
                message.classList.add('message');
                message.textContent = fullText;

                // Define the bounds for x-coordinate (left) based on the vent image's position and width
                const ventLeft = document.getElementById('vent').offsetLeft; // Left position of the vent image
                const ventWidth = document.getElementById('vent').offsetWidth; // Width of the vent image

                // Calculate a random position within the vent's bounds with a smaller range
                const randomX = ventLeft + Math.random() * (ventWidth - message.offsetWidth - 200); // Adjust the range by subtracting 20 pixels

                message.style.animation = `floatAndFade ${5 + Math.random() * 5}s forwards`;
                message.style.left = `${randomX}px`; // Set the left position
                message.style.bottom = `${20}vh`;
                document.body.appendChild(message);
                this.value = '';
            }
        } else if (e.keyCode === 8) {
            // Check if Backspace key (key code 8) was pressed
            if (wordArray.length > 0) {
                // Remove the last character from wordArray when Backspace is pressed
                wordArray.pop();
            }
        } else {
            const word = e.key;
            wordArray.push(word);
        }
    });
    </script>
</body>
</html>
